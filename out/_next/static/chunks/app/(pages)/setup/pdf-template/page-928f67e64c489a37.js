(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4278],{1849:(e,t,a)=>{Promise.resolve().then(a.bind(a,3231))},93452:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var n=a(95155),i=a(12115),r=a(894),o=a(26603),s=a(78416),l=a(36417),d=a(27753),c=a(75131),h=a(26214),u=a(450),p=a(78501);let A=e=>{let{id:t,onDelete:a,title:A="Confirm Deletion",description:x="Are you sure you want to delete this item? This action cannot be undone.",variant:m="normal",buttonProps:j,iconType:g="delete"}=e,[v,y]=(0,i.useState)(!1),f=()=>y(!0),z=()=>y(!1);return(0,n.jsxs)(n.Fragment,{children:["icon"===m?(0,n.jsx)(r.A,{onClick:f,...j,children:"delete"==g?(0,n.jsx)(u.A,{}):(0,n.jsx)(p.A,{})}):(0,n.jsx)(o.A,{onClick:f,...j,children:"Delete"}),(0,n.jsxs)(s.A,{open:v,onClose:z,"aria-labelledby":"delete-dialog-title","aria-describedby":"delete-dialog-description",children:[(0,n.jsx)(l.A,{id:"delete-dialog-title",children:A}),(0,n.jsx)(d.A,{children:(0,n.jsx)(c.A,{id:"delete-dialog-description",children:x})}),(0,n.jsxs)(h.A,{children:[(0,n.jsx)(o.A,{onClick:z,color:"primary",children:"Cancel"}),(0,n.jsx)(o.A,{onClick:()=>{a(t),z()},color:"error",autoFocus:!0,children:"Confirm"})]})]})]})}},3231:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var n=a(95155),i=a(12115),r=a(9552),o=a(26603),s=a(12406),l=a(78562),d=a(47335),c=a(27315),h=a(18786),u=a(48983),p=a(2432),A=a(45704),x=a(43655),m=a(9561),j=a(894),g=a(68998),v=a(22678),y=a(90507),f=a(83774),z=a(91888),C=a(10194),b=a(18037),k=a(79545),S=a(18756),_=a(83391),B=a(90917),w=a(89262),O=a(84778),E=a(77711),F=a(93452);let N=(0,E.default)(()=>Promise.all([a.e(2756),a.e(9352)]).then(a.bind(a,18561)),{loadableGenerated:{webpack:()=>[18561]},ssr:!1}),P=(0,E.default)(()=>Promise.all([a.e(2926),a.e(9905),a.e(7831),a.e(2070),a.e(8442),a.e(8367),a.e(3412),a.e(7121)]).then(a.bind(a,57121)),{loadableGenerated:{webpack:()=>[57121]},ssr:!1}),T=()=>{let[e,t]=(0,i.useState)([]),[a,E]=(0,i.useState)(!1),[T,I]=(0,i.useState)(null),[D,H]=(0,i.useState)(1),[U,W]=(0,i.useState)(1),[G,L]=(0,i.useState)(5),[J,K]=(0,i.useState)(1),[M,R]=(0,i.useState)(!1),[V,Y]=(0,i.useState)(!1),[Z,q]=(0,i.useState)(),Q=(0,_.d4)(e=>(0,B.x5)(e.organization)),{token:X}=(0,_.d4)(e=>e.session),$=async e=>{try{R(!0),t(()=>[]);let i=await (0,w.h1)(null==Q?void 0:Q.id,X,{sortOrder:"desc",startFrom:(e-1)*G,to:G,search:"",sortBy:"name"});if(200===i.status){var a,n;if(null===(a=i.data)||void 0===a?void 0:a.data){let e=null===(n=i.data)||void 0===n?void 0:n.data;t(e.data),W(()=>Math.ceil(e.total/G)),K(()=>e.total)}}}catch(e){console.error("Error fetching templates:",e)}finally{R(!1)}},ee=e=>{I(e),E(!0)},et=async a=>{try{let n=await (0,w.Ue)(a,X);200==n.status&&t(e.filter(e=>e.id!==a))}catch(e){console.error(e)}},ea=(0,i.useCallback)(e=>{E(!1),I(null),void 0!==D&&e&&X?$(D):console.warn("currentPage is undefined")},[D]),en=async()=>{try{let e=await (0,O.ip)(null==Q?void 0:Q.id,X);200==e.status&&q(e.data)}catch(e){console.error("Error fetching addons:",e)}};return(0,i.useEffect)(()=>{X&&(null==Q?void 0:Q.id)&&($(D),en())},[V]),(0,i.useEffect)(()=>{X&&(null==Q?void 0:Q.id)&&$(D)},[X,null==Q?void 0:Q.id]),(0,n.jsxs)(r.A,{children:[!a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.A,{variant:"outlined",size:"small",sx:{float:"right",mb:2},color:"primary",onClick:()=>E(!0),children:["New \xa0",(0,n.jsx)(b.A,{fontSize:"inherit"})]}),(0,n.jsx)(s.A,{component:l.A,style:{marginTop:"20px",minHeight:500},children:(0,n.jsxs)(d.A,{children:[(0,n.jsx)(c.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(u.A,{children:"Name"}),(0,n.jsx)(u.A,{children:"Addons"}),(0,n.jsx)(u.A,{sx:{textAlign:"center"},children:"Actions"})]})}),(0,n.jsx)(p.A,{children:M?Array.from({length:5}).map((e,t)=>(0,n.jsx)(h.A,{children:(0,n.jsx)(u.A,{colSpan:3,children:(0,n.jsx)(A.A,{variant:"rectangular",height:30})})},t)):0===e.length?(0,n.jsx)(h.A,{children:(0,n.jsx)(u.A,{colSpan:3,align:"center",children:"No templates available."})}):null==e?void 0:e.map(e=>{var t;return(0,n.jsxs)(h.A,{hover:!0,children:[(0,n.jsx)(u.A,{children:(0,n.jsxs)(x.A,{sx:{display:"flex"},children:[(0,n.jsx)(m.A,{mr:2,children:e.name}),(0,n.jsx)(N,{htmlContent:'<div className="ck ck-editor__main">\n                                                        <div class="ck ck-content">\n                                                        <div>'.concat(e.headerContent,"</div>\n                                                        ").concat(e.bodyContent,"\n                                                        ").concat(e.sections?e.sections.map(e=>e.htmlContent):"","\n                                                        <footer>").concat(e.footerContent,"</footer>\n                                                        </div>\n                                                        </div>\n                                                "),isIconButton:!0,id:e.id,organization_id:null==Q?void 0:Q.id,subcategories:[]})]})}),(0,n.jsx)(u.A,{children:null==e?void 0:null===(t=e.addons)||void 0===t?void 0:t.join(", ")}),(0,n.jsxs)(u.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(j.A,{color:"primary",onClick:()=>ee(e),children:(0,n.jsx)(k.A,{})}),(0,n.jsx)(F.default,{id:e.id,onDelete:e=>et(e),variant:"icon",buttonProps:{size:"small",color:"error"}})]})]},"".concat(e.id,"-").concat(e.name,"-").concat(e.addons))})})]})}),(0,n.jsxs)(g.A,{sx:{mt:2,display:"flex",justifyContent:"end",alignItems:"center"},children:[(0,n.jsxs)(v.A,{sx:{minWidth:120},children:[(0,n.jsx)(y.A,{children:"Page Size"}),(0,n.jsxs)(f.A,{value:G,label:"Page Size",onChange:e=>{L(()=>e.target.value),H(()=>1),Y(!V)},size:"small",children:[(0,n.jsx)(z.A,{value:5,children:"5"}),(0,n.jsx)(z.A,{value:10,children:"10"}),(0,n.jsx)(z.A,{value:25,children:"25"})]})]}),(0,n.jsx)(C.A,{count:U,page:D,onChange:(e,t)=>{H(t),$(t)},sx:{mt:2,display:"flex",justifyContent:"center"}}),(0,n.jsxs)(m.A,{variant:"body1",sx:{mt:2},children:["\xa0  Total: ",J]})]})]}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.A,{variant:"outlined",size:"small",color:"primary",onClick:()=>ea(!0),children:[(0,n.jsx)(S.A,{fontSize:"inherit"}),"\xa0Back"]}),(0,n.jsx)(P,{addons_:Z,handleBack:ea,id:T?null==T?void 0:T.id:void 0})]})]})}},84778:(e,t,a)=>{"use strict";a.d(t,{JI:()=>i,_y:()=>s,ij:()=>r,ip:()=>o});var n=a(25033);let i=async(e,t,a)=>n.n.post("/addons",{name:e,organization_id:t},{headers:{Authorization:"Bearer ".concat(a)}}),r=async(e,t)=>n.n.put("/addons/"+e.id,e,{headers:{Authorization:"Bearer ".concat(t)}}),o=async(e,t)=>n.n.get("/addons/"+e+"/organization",{headers:{Authorization:"Bearer ".concat(t)}}),s=async(e,t)=>n.n.delete("/addons/"+e,{headers:{Authorization:"Bearer ".concat(t)}})},25033:(e,t,a)=>{"use strict";a.d(t,{n:()=>n});let n=a(82651).A.create({baseURL:"".concat("http://localhost:4000/api_/","v1"),timeout:3e4,headers:{"Content-Type":"application/json","Allow-Control-Allow-Origin":"*"}})},89262:(e,t,a)=>{"use strict";a.d(t,{KW:()=>d,TA:()=>i,Ue:()=>h,Vd:()=>s,Wv:()=>o,YC:()=>r,h1:()=>l,kH:()=>c});var n=a(25033);let i=async(e,t)=>n.n.post("/pdf-templates/resource",e,{headers:{Authorization:"Bearer ".concat(t)}}),r=async function(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n.n.get("/pdf-templates/preview/"+e,{headers:{Authorization:"Bearer ".concat(a)},params:{organization_id:t,subcategoriesFilter:i}})},o=async(e,t)=>n.n.post("/pdf-templates/convert",e,{headers:{Authorization:"Bearer ".concat(t)}}),s=async(e,t)=>n.n.get("/pdf-templates/resource/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),l=async function(e,t){let{sortOrder:a="asc",startFrom:i=0,to:r=10,sortBy:o="name",addonsFilter:s="",search:l=""}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.n.get("/pdf-templates/template/page",{headers:{Authorization:"Bearer ".concat(t)},params:{sortOrder:a,startFrom:i,to:r,sortBy:o,addonsFilter:s,search:l,organization_id:e}})},d=async(e,t,a)=>n.n.put("/pdf-templates/resource/".concat(e),t,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}),c=async(e,t,a)=>n.n.put("/pdf-templates/resource/dummy-data/".concat(e),{json:t},{headers:{Authorization:"Bearer ".concat(a)}}),h=async(e,t)=>n.n.delete("/pdf-templates/resource/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})},90917:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,F3:()=>i,L_:()=>r,SH:()=>s,o_:()=>l,x5:()=>c});let n=(0,a(48943).Z0)({name:"organization",initialState:{organizations:[]},reducers:{addOrganizationAll(e,t){e.organizations=[...e.organizations,...t.payload]},addOrganization(e,t){e.organizations.push(t.payload)},updateOrganization(e,t){let a=e.organizations.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.organizations[a]=t.payload)},removeOrganization(e,t){e.organizations=e.organizations.filter(e=>e.id!==t.payload)},clearOrganizationState(e){e.organizations=[]}}}),{addOrganization:i,updateOrganization:r,removeOrganization:o,addOrganizationAll:s,clearOrganizationState:l}=n.actions,d=n.reducer,c=e=>e.organizations.find(e=>e.is_default)||null}},e=>{var t=t=>e(e.s=t);e.O(0,[3333,6603,3391,3894,943,1064,5948,8943,2651,1043,5589,3655,7057,697,194,3312,7641,7009,8441,1517,7358],()=>t(1849)),_N_E=e.O()}]);
//# sourceMappingURL=page-928f67e64c489a37.js.map