(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{73658:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,24785,23)),Promise.resolve().then(a.t.bind(a,17708,23)),Promise.resolve().then(a.t.bind(a,46351,23)),Promise.resolve().then(a.bind(a,48965)),Promise.resolve().then(a.t.bind(a,30347,23)),Promise.resolve().then(a.bind(a,17367)),Promise.resolve().then(a.bind(a,45255))},6327:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var o=a(12983),r=a(95155);let n=(0,o.A)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},894:(e,t,a)=>{"use strict";a.d(t,{A:()=>k});var o=a(12115),r=a(43463),n=a(7123),i=a(80862),s=a(17280),l=a(89142),c=a(98330),d=a(31628),u=a(12567),p=a(89679),g=a(96854),h=a(37410),m=a(81045),v=a(37157);function y(e){return(0,v.Ay)("MuiIconButton",e)}let f=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]);var b=a(95155);let z=e=>{let{classes:t,disabled:a,color:o,edge:r,size:i,loading:s}=e,l={root:["root",s&&"loading",a&&"disabled","default"!==o&&"color".concat((0,h.A)(o)),r&&"edge".concat((0,h.A)(r)),"size".concat((0,h.A)(i))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return(0,n.A)(l,y,t)},_=(0,l.Ay)(p.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.loading&&t.loading,"default"!==a.color&&t["color".concat((0,h.A)(a.color))],a.edge&&t["edge".concat((0,h.A)(a.edge))],t["size".concat((0,h.A)(a.size))]]}})((0,c.A)(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),(0,c.A)(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter((0,d.A)()).map(e=>{let[a]=e;return{props:{color:a},style:{color:(t.vars||t).palette[a].main}}}),...Object.entries(t.palette).filter((0,d.A)()).map(e=>{let[a]=e;return{props:{color:a},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat((t.vars||t).palette[a].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,s.X4)((t.vars||t).palette[a].main,t.palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(f.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(f.loading)]:{color:"transparent"}}})),A=(0,l.Ay)("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),k=o.forwardRef(function(e,t){let a=(0,u.b)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:n,className:s,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:p="medium",id:h,loading:m=null,loadingIndicator:v,...y}=a,f=(0,i.A)(h),k=null!=v?v:(0,b.jsx)(g.A,{"aria-labelledby":f,color:"inherit",size:16}),x={...a,edge:o,color:l,disabled:c,disableFocusRipple:d,loading:m,loadingIndicator:k,size:p},S=z(x);return(0,b.jsxs)(_,{id:f,className:(0,r.A)(S.root,s),centerRipple:!0,focusRipple:!d,disabled:c||m,ref:t,...y,ownerState:x,children:["boolean"==typeof m&&(0,b.jsx)("span",{className:S.loadingWrapper,style:{display:"contents"},children:(0,b.jsx)(A,{className:S.loadingIndicator,ownerState:x,children:m&&k})}),n]})})},76046:(e,t,a)=>{"use strict";var o=a(66658);a.o(o,"usePathname")&&a.d(t,{usePathname:function(){return o.usePathname}}),a.o(o,"useRouter")&&a.d(t,{useRouter:function(){return o.useRouter}})},48965:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var o=a(95155),r=a(12115);class n extends r.Component{static getDerivedStateFromError(e){return console.log(e),{hasError:!0}}componentDidCatch(e,t){console.log(t),console.error("Error caught by ErrorBoundary:",e)}render(){return this.state.hasError?(0,o.jsx)("h1",{children:"Something went wrong."}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let i=n},17367:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var o=a(95155),r=a(48943),n=a(90175),i=a(90917),s=a(37264);let l=(0,r.U1)({reducer:{session:s.Ay,toggleTheme:n.ed.reducer,organization:i.Ay}});a(12115);var c=a(83391);function d(e){let{children:t}=e;return(0,o.jsx)(c.Kq,{store:l,children:t})}},45255:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var o=a(95155),r=a(12115),n=a(894),i=a(7831),s=a(6327),l=a(76046),c=a(83391);let d=e=>{let{children:t}=e,{token:a,status:n}=(0,c.d4)(e=>e.session),i=(0,l.usePathname)(),s=(0,l.useRouter)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("token");e||"/"==i||"/test"==i||s.push("/dashboard"),e||console.log("/Sign out")},[a,n,i]),(0,o.jsx)(o.Fragment,{children:t})};function u(e){let{children:t}=e;return(0,o.jsx)(d,{children:(0,o.jsx)(i.n,{maxSnack:3,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,dense:!0,hideIconVariant:!0,action:e=>(0,o.jsx)(n.A,{color:"inherit",onClick:()=>(0,i.mk)(e),size:"small","aria-label":"Alert",children:(0,o.jsx)(s.A,{})},"close"),classes:{root:"custom-snackbar"},children:t})})}},90175:(e,t,a)=>{"use strict";a.d(t,{OD:()=>r,ed:()=>o});let o=(0,a(48943).Z0)({name:"ToggleTheme",initialState:{theme:"light",matches:{matches_xs_up:!1,matches_sm_up:!1,matches_md_up:!1,matches_lg_up:!1,matches_sm_down:!1,matches_md_down:!1}},reducers:{toggleTheme(e,t){e.theme="dark"===t.payload?"light":"dark"},deviceMatches(e,t){e.matches={...e.matches,...t.payload}}}}),{toggleTheme:r,deviceMatches:n}=o.actions;o.reducer},90917:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,F3:()=>r,L_:()=>n,SH:()=>s,o_:()=>l,x5:()=>d});let o=(0,a(48943).Z0)({name:"organization",initialState:{organizations:[]},reducers:{addOrganizationAll(e,t){e.organizations=[...e.organizations,...t.payload]},addOrganization(e,t){e.organizations.push(t.payload)},updateOrganization(e,t){let a=e.organizations.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.organizations[a]=t.payload)},removeOrganization(e,t){e.organizations=e.organizations.filter(e=>e.id!==t.payload)},clearOrganizationState(e){e.organizations=[]}}}),{addOrganization:r,updateOrganization:n,removeOrganization:i,addOrganizationAll:s,clearOrganizationState:l}=o.actions,c=o.reducer,d=e=>e.organizations.find(e=>e.is_default)||null},37264:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>u,Nq:()=>s,q7:()=>l,r1:()=>c});var o=a(48943),r=a(68488),n=a.n(r);let i=(0,o.Z0)({name:"session",initialState:{token:null,user:null,status:"unauthenticated"},reducers:{setSession:(e,t)=>{e.token=t.payload.token,e.user=t.payload.user,e.status="authenticated"},clearSession:e=>{e.token=null,e.user={id:null,name:"",email:"",profile:{id:null,theme:"light",avatar:null}},e.status="unauthenticated"},setLoading:e=>{e.status="loading"},validateSession:e=>{if(e.token)try{let t=n().decode(e.token);console.log("decoded",t),t&&1e3*t.exp<Date.now()?(e.token=null,e.user={id:null,name:"",email:"",profile:{id:null,theme:"light",avatar:null}},e.status="unauthenticated"):e.status="authenticated"}catch(t){console.error("Invalid token:",t),e.token=null,e.user={id:null,name:"",email:"",profile:{id:null,theme:"light",avatar:null}},e.status="unauthenticated"}else e.status="unauthenticated"}}}),{setSession:s,clearSession:l,setLoading:c,validateSession:d}=i.actions,u=i.reducer},46351:()=>{},30347:()=>{},17708:e=>{e.exports={style:{fontFamily:"'geistMono', 'geistMono Fallback'"},className:"__className_c3aa02",variable:"__variable_c3aa02"}},24785:e=>{e.exports={style:{fontFamily:"'geistSans', 'geistSans Fallback'"},className:"__className_1e4310",variable:"__variable_1e4310"}}},e=>{var t=t=>e(e.s=t);e.O(0,[9264,2214,7240,7690,9268,3333,3391,1064,8943,7831,9831,8441,1517,7358],()=>t(73658)),_N_E=e.O()}]);
//# sourceMappingURL=layout-94f43ab98a4354e2.js.map